file_path_sans_ext("name1.csv")
install.packages("rmarkdown")
top_n
dplyr::top_n()
source('C:/Users/altan/Dropbox/code/serca/serca.R')
setwd('serca')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
help(list.files)
source('C:/Users/altan/Dropbox/code/serca/serca.R')
names
library(magrittr)
source('C:/Users/altan/Dropbox/code/serca/serca.R')
names
source('C:/Users/altan/Dropbox/code/serca/serca.R')
names
source('C:/Users/altan/Dropbox/code/serca/serca.R')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
names
source('C:/Users/altan/Dropbox/code/serca/serca.R')
names
names[1]
class(names[1])
names[[1]]
filenames
apply(filenames, 0, basename)
apply(filenames, 1, basename)
lapply(filenames, 1, basename)
lapply(filenames, basename)
sapply(filenames, basename, USE.NAMES=F)
sapply(filenames, basename, USE.NAMES=F)[1]
source('C:/Users/altan/Dropbox/code/serca/serca.R')
filenames
names
fs
source('C:/Users/altan/Dropbox/code/serca/serca.R')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs
fs[1]
library("rlist")
install.packages(rlist)
install.packages('rlist')
library(rlist)
list.map(filenames, length(filenames))
list.map(filenames, names)
list.map(names, filenames)
filenames
names
list.maps(names, filenames)
list.map(names, name)
list.map(filenames, name)
filenames
names
source('C:/Users/altan/Dropbox/code/serca/serca.R')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
filenames
names
list.map(names, names)
list.map(names, name)
list.map(names, filenames)
list.map(filenames, basename)
list.map(filenames, basename(Name))
list.map(names, basename(name))
names <- filenames %>% sapply(basename, USE.NAMES=TRUE)
names
list.map(names, file_path_sans_ext)
list.map(names, file_path_sans_ext(name))
list.map(names, file_path_sans_ext(.name))
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs
filenames
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs
filenames$.names
names(filenames)
names(filenames)
names(paths)
paths
source('C:/Users/altan/Dropbox/code/serca/serca.R')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs[1]
fs[1]$path = paths[1]
paths[1]
fs[1]$path
fs[1]['path']
fs[1]['path'] = paths[1]
fs[1]
tools::file_path_as_absolute(filenames[1])
source('C:/Users/altan/Dropbox/code/serca/serca.R')
library(stringi)
filenames[1]
filenames[1][1:3]
filenames[1][:3]
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs[1]
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs
fs[1]
names(fs)
help(sapply)
list.map(fs, tag)
list.map(fs, $tag)
list.map(fs, .tag)
list.map(fs, name)
list.map(fs, tag)
lapply(fs, function(x){x$tag})
lapply(fs, function(x){x$tag})
fs
lapply(fs, function(x){x['tag']})
lapply(fs, function(x){x[['tag']]})
lapply(fs, function(x) { x $name} )
lapply(fs, function(x) { x$name} )
lapply(fs, function(x) { x} )
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs
len(fs))
fs[1]
fs[1]$tag
fs[1][1]$tag
fs[[1]]
fs[[1]]$tag
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs[1]$tag
fs
fs[1]
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs[1]
fs$1
fs[1]
fs[[1]]
str(fs)
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs
fs[1]
fs[2]
length(fs)
fs
dim(fs)
source('C:/Users/altan/Dropbox/code/serca/serca.R')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs
fs[1]
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs
fs[1]
source('C:/Users/altan/Dropbox/code/serca/serca.R')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs
fs[1]
fs[15]
fs[13]
fs[1]
fs[[1]]$tag
source('C:/Users/altan/Dropbox/code/serca/serca.R')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
fs.onl
fs$onl
source('C:/Users/altan/Dropbox/code/serca/serca.R')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
onl
source('C:/Users/altan/Dropbox/code/serca/serca.R')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
faset_target_meta(onl, 'asker')
filter
rlist
filter
source('C:/Users/altan/Dropbox/code/serca/serca.R')
ffaset_target_meta(onl, 'asker')
faset_target_meta(onl, 'asker')
onl$table %>% filter(Target=='asker')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
faset_target_meta(onl, 'asker')
t <- onl$table
t <- onl$table %>% filter(Target=='asker')
length(t$Assoc)
sum(t$n)
source('C:/Users/altan/Dropbox/code/serca/serca.R')
faset_target_meta(onl, 'asker')
faset_target_meta <- function(f, Target.name) {
t <- f$table
st <- t %>% filter(Target==Target.name)
info <- list()
info$top3 <- st %>% top_n(3, n)
info$setsize <- length(st$Assoc)
info$total <- sum(st$n)
return(info)
}
faset_target_meta(onl, 'asker')
source('C:/Users/altan/Dropbox/code/serca/serca.R')
frequencies.paths <- lapply(fas.meta$Label, function(label){paste('data/frequency/', label, '.txt', sep='')})
debugSource('~/code/serca/serca.R')
frequencies
frequencies[1]
frequencies[1] %>% idio()
frequencies[1] %>% filter(n == 1)
debugSource('~/code/serca/serca.R')
f <- tbl_dt(read.delim(path, stringsAsFactors = FALSE, fileEncoding = "UTF-8"))
debugSource('~/code/serca/serca.R')
source('~/code/serca/serca.R')
frequencies[1] %>% filter(n == 1)
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
setsizes
help(mereg)
help(merge)
help(combine)
combine(setsizes)
z <- combine(setsizes)
setsizes
rownames(setsizes[1])
rownames(setsizes[1]) <- setsizes[1]$Target
rownames(setsizes[1])
rownames(setsizes[1]) <- setsizes[1]$Target
rownames(setsizes[1], do.NULL = FALSE)
rownames(setsizes[1])
rownames(setsizes[1], do.NULL = FALSE) <- setsizes[1]$Target
rownames(setsizes[1], setsizes[1]$Target)
rownames()
help(rownames)
rownames(setsizes[1]) <- as.vector(setsizes[1]$Target)
rownames(setsizes[1])
as.vector(setsizes[1]$Target)
setsizes[1]
setsizes[1]$Target
setsizes[1]['Target']
setsizes[1][['Target']]
select(setsizes[1], Target)
select(setsizes[1], 'Target')
setsizes
setsizes[1]
setsizes[[1]
]
setsizes[[1]]
class(setsizes[[1]])
class(setsizes[1])
setsizes <- sapply(frequencies, get_asetsizes)
setsizes <- sapply(frequencies, get_asetsizes, simplify = FALSE)
setsizes
class(setsizes)
class(setsizes[1])
class(setsizes[[1]])
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
traceback()
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
tracebac()
traceback()
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
frequencies
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
f <- fread(path, stringsAsFactors = FALSE)
debugSource('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
source('~/code/serca/serca.R')
setsizes$tek
source('~/code/serca/serca.R')
setsizes <- lapply(frequencies, get_asetsizes)
frequencies.meta[['Label']=='onl']
## Online (onl)
- Origin: Collected online via SurveyMonkey in spring 2015
- No. valid response sets: `r frequencies$n.subjects`
summary(frequencies.meta)
summary(frequencies)
frequencies.meta
s <- lapply(frequencies, idio)
s
s <- lapply(frequencies, function(x) { nrow(idio(x)) })
s
s <- lapply(frequencies, function(x) { length(idio(x)) })
s
s
s <- lapply(frequencies, function(x) { nrow(idio(x)) })
s
setsizes
setsizes[1]
mean(setsizes[1]$setsize)
mean(setsizes)
mean(setsizes[1]
)
mean(setsizes$tek$setsize)
lapply(setsizes, function(x){mean(x$setsize)})
lapply(setsizes, function(x){round(mean(x$setsize), 3})
lapply(setsizes, function(x){round(mean(x$setsize), 3)})
lapply(setsizes, function(x){round(mean(x$setsize), 2)})
mean_setsizes
mean_setsizes <- lapply(setsizes, function(x){round(mean(x$setsize), 2)})
mean_setsizes
mean_setsizes['onl']
setsizes$tek
mean(setsizes$tek)
mean(setsizes$tek$setsize)
View(frequencies.meta)
View(frequencies.meta)
frequencies.meta <- frequencies.meta %>% mutate(MeanSetSize = nrow(setsizes[Label]))
frequencies.meta %>% mutate(MeanSetSize = length(setsizes[Label]))
frequencies.meta %>% mutate(MeanSetSize = length(setsizes[Label]$setsize))
frequencies.meta %>% mutate(MeanSetSize = mean(setsizes[Label]$setsize))
frequencies.meta %>% mutate(MeanSetSize = mean(setsizes[Label]['setsize']))
setsizes['onl']
setsizes['onl']['setsize']
setsizes['onl']$setsize
setsizes['onl']
frequencies.meta %>% mutate(MeanSetSize = mean(setsizes[Label]['setsize']))
frequencies.meta %>% mutate(MeanSetSize = mean(setsizes[Label]$setsize)
)
frequencies.meta %>% mutate(MeanSetSize = mean(setsizes[Label])
)
setsizes$tek
setsizes$tek$setsize
mean(setsizes$tek$setsize)
mean(setsizes['tek']$setsize)
mean(setsizes[['tek'$setsize)
mean(setsizes[['tek']]$setsize)
setsizes <- lapply(frequencies, get_setsizes)
setsizes[['tek']]
setsizes[['tek']]$setsize
#frequencies.meta <- frequencies.meta %>% mutate(MedianSetSize = round(median(setsizes[[Label]]$setsize), 2))
frequencies.meta$Label
setsizes
setsizes$tek
frequencies
tem <- semi_join(frequencies$tek, frequencies$umi, by='Target')
tem
tem <- select(tem, Target, Assoc, n) %>% arrange(Target, Assoc, n)
write.table(tem, file="data/frequencies/tem.txt", quote=FALSE, sep="\t", fileEncoding="UTF-8")
write.table(tem, file="data/frequencies/tem.txt", quote=FALSE, sep="\t", fileEncoding="UTF-8", append = FALSE)
getcwd()
getwd()
write.table(tem, file="data/frequency/tem.txt", quote=FALSE, sep="\t", fileEncoding="UTF-8", append = FALSE)
requencies.meta %>% mutate(MeanSetSize = mean(setsizes[Label]$setsize))
frequencies.meta %>% mutate(MeanSetSize = mean(setsizes[Label]$setsize))
frequencies.meta %>% mutate(MeanSetSize = mean(ss[Label]$setsize))
requencies.meta %>% mutate(MeanSetSize = mean(setsizes[Label]$setsize))
frequencies.meta$frequencies <- frequencies
frequencies.meta$frequencies <- frequencies
f
ss
source('~/code/serca/serca.R')
---
)
label <-filter(fmeta, row_number() == i)$Label
label <- filter(fmeta, row_number() == i)
help(iter)
library(foreach)
help(iter)
foreach(i=iter(fmeta, by='column')) %do% {
foreach(i=iter(fmeta, by='column')) %do% {
iter
library(foreach)
iter
library(foreach)
library(iterators)
setsizes
foreach(x=iter(fmeta, by='row')) %do% {
)
}
source("overview.Rmd")
source("overview.Rmd")
source("overview.Rmd")
source("overview.Rmd")
library("rmarkdown")
rmarkdown::render("overview.Rmd")
setsizes
t <- get_setsizes(freqs$tem)
t
t <- get_setsizes(freqs$tem) %>% mutate(Label="tem")
t
ss <- Reduce(get_setsizes, freqs, tbl_df())
ss <- Reduce(get_setsizes, freqs, tbl_df(data = NULL))
ss <- Reduce(get_setsizes, freqs, tbl_df([]))
ss <- Reduce(get_setsizes, freqs, tbl_df(c()))
ss <- Reduce(get_setsizes, freqs, tbl_df(c(,)))
ss <- Reduce(get_setsizes, freqs, data.frame())
ss <- Reduce(function(init, x){ full_join(init, mutate(get_setsizes(freqs[i], Label=freqs[i]$Label, , 1:length(freqs), data.frame())
)
)
)
freqs[0]
freqs[[0]]
freqs[1]
freqs[1]$tem
