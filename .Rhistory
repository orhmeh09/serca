t
t <- list()
t$onl <- t.onl.asker
t$tem <- t.tem.asker
t$umi <- t.umi.asker
kable
library(knitr)
kable(t)
t = data.frame(Tables=c(t.umi.asker, t.onl.asker, t.tem.asker))
t = data.frame(Tables=c(t.umi.asker, t.onl.asker, t.tem.asker))
t = data.frame(Names=c('umi', 'onl', 'tem'), Tables=c(t.umi.asker, t.onl.asker, t.tem.asker))
t = data.frame(Names=c('umi', 'onl', 'tem'), Tables=c(t.umi.asker, t.onl.asker, t.tem.asker), check.rows = FALSE, check.names = FALSE, stringsAsFactors = FALSE)
t = data.frame(Names=c('umi', 'onl', 'tem'), Tables=c(t.umi.asker, t.onl.asker, t.tem.asker), check.rows = FALSE, check.names = FALSE, stringsAsFactors = FALSE)
View(setsizes)
View(frequencies)
cor(c(1,2,3))
cor(c(1,2,3), c(1,2,3)
)
cor(c(1,2,3), c(1,2,3))
frequencies %>% filter(Target=="masa")
frequencies %>% filter(Target=="asker")
frequencies %>% filter(Target=="asker", Rank in 1:3)
1:3
frequencies %>% filter(Target=="asker", 1 < Rank < 3)
frequencies %>% filter(Target=="asker", Rank < 3, Rank > 1)
frequencies %>% filter(Target=="asker", Rank =< 3, Rank >= 1)
frequencies %>% filter(Target=="asker", Rank <= 3, Rank >= 1)
a <- frequencies %>% filter(Target=="asker", Rank <= 3, Rank >= 1)
cor(c(0.170), c(0.076))
cor(c(0.170), c(0.076))
cor(c(0.170), c(0.076, c(0.100)))
cor(c(0.170,), c(0.076, 0.100))
cor(c(0.170,), y = c(0.076, 0.100))
cor(c(0.170), y = c(0.076, 0.100))
cor(c(0.170, 0.0), y = c(0.076, 0.100))
frequencies
frequencies %>% group_by(Label, Target) %>% filter(Rank == 1) %>% first()
frequencies %>% group_by(Label, Target) %>% filter(Rank == 1) %>% top_n(1)
tops < - frequencies %>% group_by(Label, Target) %>% filter(Rank == 1) %>% top_n(1)
tops < - frequencies %>% group_by(Label, Target) %>% filter(Rank == 1) %>% top_n(1)
tops <- frequencies %>% group_by(Label, Target) %>% filter(Rank == 1) %>% top_n(1)
write.table(tops, "top_1_assocs.txt", sep="\t", row.names=FALSE, fileEncoding="UTF-8", quote=FALSE)
library(tidyr)
tidyr::expand(tops)
tidyr::spread(tops, "Label", "onl")
tidyr::spread(tops, "Label", "onl")
spread(tops, Label)
spread(tops, key = "Label", value = c("onl", "tek", "umi")
)
tops %>% spread("Label", "Target")
tops %>% spread("Label", "Probability")
tops %>% spread("Label", "Probability", "Target")
tops %>% spread("Label", c("Probability", "Target"))
tops %>% select(-Assoc)
tops %>% select(-Assoc, -Rank, -RankMax)
tops %>% select(-Assoc, -Rank, -RankMax) %>% spread("Label", "Probability")
tops %>% select(-Assoc, -Rank, -RankMax) %>% spread("Probability")
tops %>% select(-Assoc, -Rank, -RankMax) %>% spread("Probability", "Label")
tops %>% select(-Assoc, -Rank, -RankMax)
tops %>% select(-Assoc, -Rank, -RankMax, -n)
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Label, Probability)
tops[1,60]
tops[60]
tops
tops[[60]]
tops[[1,60]
]
tops[60,1]
tops[66,1]
tops[60:61, 1]
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Target, "Probability")
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Target, c("Probability", "Label")
)
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Target, c("Probability", "Label"))
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Target, c("Label", "Probability"))
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Target, c("Label"))
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Target, "Label")
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Target, Label)
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Target, Probability)
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Target, Probability, Label)
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Target, c(Probability, Label)
)
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Probability)
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Probability, Label)
tops %>% select(-Assoc, -Rank, -RankMax, -n) %>% spread(Probability, Row)
View(tops)
tops
View(tops)
rownames(tops)
tops %>% spread(Target)
tops %>% spread(Target, Label)
tops %>% select(-Assoc, -n, -Rank, -RankMax)
top1 <- tops %>% select(-Assoc, -n, -Rank, -RankMax)
top1 %>% spread(Target, Label)
top1 %>% spread(Probability)
top1 %>% spread(Probability, Label)
top1 %>% spread(Probability, Target)
top1 %>% spread(Probability, Target, Label)
top1 %>% spread(Probability, c(Target, Label))
top1 %>% spread(Label, Target)
top1 %>% spread(Label, Probability)
top1 %>% spread(Target, Label, Probability)
top1 %>% spread(Target, Label)
library(reshape2)
top1$row <- 1:nrow(top1)
top1 %>% spread(Target, Label)
top1 %>% spread(Target, Probability)
top1 %>% spread(Target, Probability, Label)
top1 %>% spread(Label, Probability)
top1 %>% spread(Label, Target)
top1 %>% spread(Target, Label)
top1 %>% spread(Probability, Label)
top1 %>% spread(Probability)
top1 %>% spread(Probability, Target)
top1 %>% spread(Label)
top1 %>% spread(Label, Target)
top1 %>% spread(c(Target, Probability), Label)
top1 %>% spread(c(Target, Probability), c(Label, Probability))
top1 %>% spread(Target, Label)
help(spread)
top1 %>% dcast(Target+Probability ~ Label)
top1 %>% dcast(Target ~ Label+Probability)
top1 %>% dcast(Target + Label ~ Probability)
tbl_df(top1 %>% dcast(Target + Label ~ Probability))
tbl_df(top1 %>% dcast(Target + Probability ~ Labely))
tbl_df(top1 %>% dcast(Target + Probability ~ Label))
tbl_df(top1 %>% dcast(Target ~ Label))
tbl_df(top1 %>% dcast(Target ~ Probability))
tbl_df(top1 %>% dcast(Target ~ Label))
top1 <- tops %>% select(-Assoc, -n, -Rank, -RankMax)
tbl_df(top1 %>% dcast(Target ~ Label))
tbl_df(top1 %>% dcast(Target ~ Probability))
tbl_df(top1 %>% dcast(Target+Probability ~ Label))
tbl_df(top1 %>% dcast(Target ~ Label))
tbl_df(top1 %>% dcast(Target ~ Label, value.var = "Probability")
)
top1 %>% dcast(Target ~ Label, value.var = "Probability")
top1 %>% dcast(Target ~ Label, value.var = Probability)
top1 %>% dcast(Target ~ Label, value.var = Probability)
top1 %>% dcast(Target ~ Label)
top1 %>% dcast(Target ~ Label + Probability)
top1 %>% dcast(Target ~ Probability+Label)
top1 %>% dcast(Target + Probability ~ Label)
View(top1)
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% arrange(length(Assoc)) %>% summary(Top1 = first(Assoc))
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% arrange(length(Assoc)) %>% first()
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% arrange(length(Assoc))
frequencies %>% filter(Rank==1) %>% group_by(Target)
library(stringr)
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% arrange(str_length(Assoc)
)
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% arrange(desc(Rank), str_length(Assoc)) %>% first()
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% arrange(desc(Rank), str_length(Assoc)) %>% filter(Assoc == first())
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% arrange(desc(Rank), str_length(Assoc))
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% arrange(desc(Rank), str_length(Assoc)) %>% slice(1)
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% arrange(desc(Rank), str_length(Assoc)) %>% slice(1) %>% Select(Label, Target, Probability)
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% arrange(desc(Rank), str_length(Assoc)) %>% slice(1) %>% select(Label, Target, Probability)
tops <- frequencies %>% filter(Rank==1) %>% group_by(Target) %>% arrange(desc(Rank), str_length(Assoc)) %>% slice(1) %>% select(Label, Target, Probability)
write.table(tops, "data/top1_probs.txt", sep = '\t', row.names = FALSE, quote = FALSE)
tops %>% spread(Label, Probability)
tops %>% spread(Target, Label)
tops %>% spread(Target, Probability)
tops %>% spread(Probability, Label)
tops %>% spread(Probability, Target)
tops %>% spread(Label)
tops %>% spread(Label, Target)
tops %>% dcast(Target+Probability~Label)
tops %>% dcast(Target~Label)
tops %>% dcast(Target~Label, value.var = Probability)
tops %>% dcast(Target~Label, value.var = 'Probability')
tops %>% dcast(Target + Label, value.var = 'Probability')
tops %>% dcast('Target + Label, value.var = 'Probability')
tops %>% dcast('Target' + 'Label' value.var = 'Probability')
tops %>% dcast('Target' + 'Label', value.var = 'Probability')
tops %>% dcast(Label, value.var = 'Probability')
tops %>% dcast(Label+Target, value.var = 'Probability')
tops %>% dcast(Label~Target, value.var = 'Probability')
tops %>% dcast(Target~Probability, value.var = 'Probability')
tops %>% dcast(Target~Probability, value.var = "Label")
tops %>% dcast(Target~Label,Probability)
tops %>% dcast(Target~Label, value.vars="Probability")
tops
t <- tops %>% arrange(Target, Label, Probability)
View(t)
t
tops
tops <- frequencies %>% filter(Rank==1) %>% group_by(Target) %>% arrange(desc(Rank), str_length(Assoc)) %>% slice(1) %>% ungroup() %>% select(Label, Target, Probability)
tops
nrow(tops)
write.table(tops, "data/top1_probs.txt", sep = '\t', row.names = FALSE, quote = FALSE)
tops %>% dcast(Target~Label,Probability)
tops %>% dcast(Target~Label)
tops %>% filter(Target=="yama")
tops <- frequencies %>% filter(Rank==1) %>% group_by(Target) %>% slice(1:1) %>% ungroup() %>% arrange(Target, Label)
tops
tops
frequencies %>% select(Target == 'yama')
frequencies %>% filter(Target=="yama", Rank==1)
frequencies %>% filter(Target=="yama", Rank==1) %>% group_by(Target) %>% group_by(Label) %>% slice(1)
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% group_by(Label) %>% slice(1)
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% group_by(Label) %>% slice(1)
frequencies %>% select(Target == 'yama')
frequencies
ungroup()
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% group_by(Label)
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% group_by(Label) %>% slice(1)
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% group_by(Label) %>% slice(1:1)
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% group_by(Label) %>% slice(1) %>% ungroup()
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% group_by(Label)
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% group_by(Label) %>% top_n(1)
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% group_by(Label) %>% top_n(1) %>% ungroup()
frequencies %>% filter(Rank==1) %>% group_by(Target) %>% group_by(Label) %>% top_n(10)
frequencies %>% filter(Rank==1) %>% group_by(Label) %>% top_n(10)
frequencies %>% filter(Rank==1) %>% group_by(Label) %>% top_n(1)
frequencies %>% filter(Rank==1) %>% group_by(Label, Target) %>% top_n(1)
v <- frequencies %>% filter(Rank==1) %>% group_by(Label, Target) %>% top_n(1)
View(v)
v <- frequencies %>% filter(Rank==1) %>% group_by(Label, Target) %>% filter(row_number() == 1)
nrow(v)
nrow(filter(v, Label=="onl"))
nrow(filter(v, Label=="tem"))
nrow(filter(v, Label=="umi"))
write.table(v, "data/top1_probs.txt", sep = '\t', row.names = FALSE, quote = FALSE)
v
v <- select(v, Label, Target, Probability)
v <- arrange(v, Target, Label)
spread(v, Target, Label)
spread(v, Label, Probability)
tops <- spread(v, Label, Probability)
v
tops
tops %>% rename('onl', 'P.onl')
help(rename)
tops %>% rename(P.onl <- onl, P.tem <- tem, P.umi <- umi) %>% select(Target, P.tem, P.umi, P.onl)
tops %>% rename(P.onl = onl, P.tem= tem, P.umi = umi) %>% select(Target, P.tem, P.umi, P.onl)
tops <- tops %>% rename(P.onl = onl, P.tem= tem, P.umi = umi) %>% select(Target, P.tem, P.umi, P.onl)
write.table(tops, "data/top1_probs.txt", sep = '\t', row.names = FALSE, quote = FALSE)
cor(tops$P.tem, tops$P.umi)
cor(tops$P.tem, tops$P.onl)
cor(tops$P.umi, tops$P.onl)
t.test(tops$P.tem, tops$P.umi)
cor.test(tops$P.tem, tops$P.umi)
cor(tops$P.onl, tops$P.umi)
cor(tops$P.umi, tops$P.umi)
cor(tops$P.umi, tops$P.onl)
cor(tops$P.onl, tops$P.umi, method = "spearman")
cor(tops$P.onl, tops$P.umi, method = "kendall")
cor(tops$P.tem, tops$P.umi, method = "kendall")
cor(tops$P.tem, tops$P.umi, method = "spearman")
wilcox.test(tops$P.tem)
ks.test(tops$P.tem)
shapiro.test()
help(shapiro.test)
shapiro.test(tops$P.tem)
2.474e-05
2.474e-05
print(2.474e-05)
shapiro.test(tops$P.umi)
rnorm(100)
a <- rnorm(100)
shapiro.test(a)
shapiro.test(tops$P.umi)
ks.test(tops$P.tem, "pnorm")
ks.test(tops$P.tem, "rnorm")
ks.test(tops$P.tem, "norm")
ks.test(tops$P.tem, tops$P.umi)
wilcox.test(tops$P.tem, y=tops$P.tem)
wilcox.test(tops$P.tem, y=tops$P.umi)
ks.test(tops$P.tem, y=tops$P.umi)
ks.test(tops$P.tem, y=tops$P.tem)
ks.test(tops$P.onl, y=tops$P.tem)
library(dplyr)
library(magrittr)
library(stringr)
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target %>% filter(row_number() == 1) %>% spread()
)
library(tidyr)
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% spread(Label, Probability)
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% spread(Target, Label)
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% spread(Label, Target)
library(reshape2)
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% dcast(Target~Label)
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% spread(Target, value = c(Label, Probability))
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% spread(Target, value = c('Label'))
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% spread(Target, value = c('Label', 'Probability'))
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% spread(Target, Label)
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% spread(Probability, Label)
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% spread(Probability, Target)
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% spread(Label)
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% spread(Label, Target)
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% spread(Label, Probability)
frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% select(Target, Label, Probability) %>% spread(Label, Probability)
ttt <- frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% select(Target, Label, Probability) %>% spread(Label, Probability)
nrow(ttt)
nrow(v)
corr(ttt$tem, ttt$umi)
cor(ttt$tem, ttt$umi)
cor(ttt$tem, ttt$onl)
cor(ttt$umi, ttt$onl)
ttt <- frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% select(Target, Label, Probability) %>% spread(Label, Probability) %>% rename(onl = P.onl, umi = P.umi)
ttt <- frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% select(Target, Label, Probability) %>% spread(Label, Probability) %>% select(Target, tem, umi, onl)
ttt <- frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% select(Target, Label, Probability) %>% spread(Label, Probability) %>% select(Target, tem, umi, onl) %>% arrange(Target, tem, umi, onl)
ttt
ttt <- frequencies %>% filter(Rank == 1) %>% group_by(Label, Target) %>% filter(row_number() == 1) %>% select(Target, Label, Probability) %>% spread(Label, Probability) %>% select(Target, tem, umi, onl) %>% arrange(Target)
ttt
source('~/code/serca/serca.R')
get_top_frequencies(frequencies)
v <- get_top_frequencies(frequencies)
v %>% summarise_each(funs(length))
v %>% summarise_each(funs(mean))
v %>% select(tem, umi, onl) %>% summarise_each(funs(mean))
v %>% select(tem, umi, onl) %>% summarise_each(funs(summary))
v %>% select(tem, umi, onl) %>% summarise_each(funs(Summary))
v %>% select(tem, umi, onl) %>% summarise_each(funs(median))
v %>% select(tem, umi, onl) %>% summarise_each(funs(mean))
o <- v %>% select(tem, umi, onl) %>% summarise_each(funs(median))
o
t <- top1 %>% select(tem, umi, onl)
top1 <- get_top_frequencies(frequencies)
t <- top1 %>% select(tem, umi, onl)
cor(t)
cor(t, method="kendall")
pairs(t)
cor(t, method="spearman")
install.packages("ggplot2")
library(car)
install.packages("car"
)
install.packages("GGally")
library(GGally)
ggpairs(top1 %>% select(tem, umi, onl))
ggpairs(top1)
ggpairs(top1 %>% select(tem, umi, onl))
ggpairs(top1 %>% select(tem, umi, onl), verbose = TRUE)
setsizes
setsizes %>% spread(Label, SetSize)
setsizes
setsizes %>% spread(Label, c(SetSize, Total)
)
setsizes %>% spread(Label, SetSize, Total)
setsizes %>% select(Label, Target, SetSize) %>% spread(Label, SetSize)
t <- setsizes %>% select(Label, Target, SetSize) %>% spread(Label, SetSize)
t
t
write.table(t, "data/setsizes_wide.txt", sep="\t", row.names=FALSE, fileEncoding = "UTF-8", quote = FALSE)
library(DT)
frequencies %>%
group_by(Label, Target) %>% arrange(desc(Rank), Assoc)
filter(row_number() %in% 1:6) %>%
select(Target, Label, Probability) %>%
spread(Label, Probability) %>%
select(Target, tem, umi, onl) %>%
arrange(Target)
frequencies %>%
group_by(Label, Target) %>% arrange(desc(Rank), Assoc) %>%
filter(row_number() %in% 1:6) %>%
select(Target, Label, Probability) %>%
spread(Label, Probability) %>%
select(Target, tem, umi, onl) %>%
arrange(Target)
frequencies %>%
group_by(Label, Target) %>% arrange(desc(Rank), Assoc) %>%
filter(row_number() %in% 1:6)
frequencies %>%
group_by(Label, Target) %>% arrange(Rank, Assoc) %>%
filter(row_number() %in% 1:6)
frequencies %>%
group_by(Label, Target) %>% arrange(Rank, Assoc) %>% filter(row_number() %in% 1:6)
frequencies %>%
group_by(Label, Target) %>% arrange(Rank, Assoc) %>% filter(row_number() == 2)
o <- frequencies %>%
group_by(Label, Target) %>% arrange(Rank, Assoc) %>% filter(row_number() == 2)
View(o)
o <- frequencies %>% group_by(Target) %>% group_by(Label) %>% select(Label, Target, Assoc, Rank, Probability) %>% arrange(Rank)
o
o <- frequencies %>% group_by(Label) %>% group_by(Target) %>% select(Label, Target, Assoc, Rank, Probability) %>% arrange(Rank)
o <- frequencies %>% group_by(Label) %>% group_by(Target) %>% select(Label, Target, Assoc, Rank, Probability) %>% arrange(Rank) %>% filter(row_number() %in% 1:6)
1:6
o <- frequencies %>% group_by(Label) %>% group_by(Target) %>% select(Label, Target, Assoc, Rank, Probability) %>% arrange(Rank) %>% filter(row_number() <= 6)
o <- frequencies %>% filter(Rank <= 6) %>% group_by(Label) %>% group_by(Target) %>% select(Label, Target, Assoc, Rank, Probability) %>% arrange(Rank)
o <- frequencies %>% filter(Rank <= 6) %>% group_by(Label) %>% group_by(Target) %>% select(Label, Target, Assoc, Rank, Probability) %>% arrange(Target, Label)
o <- frequencies %>% filter(Rank <= 6) %>% select(Label, Target, Assoc, Rank, Probability) %>% arrange(Target)
o <- frequencies %>% filter(Rank <= 6) %>% select(Label, Target, Assoc, Rank, Probability) %>% arrange(Target, Label)
frequencies %>% filter(Rank <= 6) %>% select(Label, Target, Assoc, Rank, Probability) %>% arrange(Target, Label)
frequencies %>% filter(Rank <= 6) %>% select(Label, Target, Assoc, Rank, Probability) %>% arrange(Target)
frequencies %>% ungroup() %>% filter(Rank <= 6) %>% select(Label, Target, Assoc, Rank, Probability) %>% arrange(Target)
frequencies %>% ungroup() %>% filter(Rank <= 6) %>% select(Label, Target, Assoc, Rank, Probability) %>% group_by(Label, Target) %>% filter(row_number() <= 6)
frequencies %>% ungroup() %>% filter(Rank <= 6) %>% select(Label, Target, Assoc, Rank, Probability) %>% group_by(Label, Target) %>% filter(row_number() <= 6) %>% ungroup() %>% arrange(Target, Label)
frequencies %>% ungroup() %>% filter(Rank <= 6) %>% select(Label, Target, Assoc, Rank, Probability) %>% group_by(Label, Target) %>% filter(row_number() <= 6) %>% ungroup() %>% arrange(Target, Rank, Label)
o <- frequencies %>% ungroup() %>% filter(Rank <= 6) %>% select(Label, Target, Assoc, Rank, Probability) %>% group_by(Label, Target) %>% filter(row_number() <= 6) %>% ungroup() %>% arrange(Target, Rank, Label)
o %>% spread(Label, Probability)
o %>% select(-Assoc) %>% spread(Label, Probability)
o
o %>% select(-Assoc)
g <- o %>% select(-Assoc)
g %>% spread(Label, Probability)
g %>% dcast(Label ~ Probability)
g
g %>% dcast(Target+Rank ~ Label)
g %>% dcast(Target+Rank ~ Label) %>% tbl_df()
g %>% dcast(Target+Label ~ Probability) %>% tbl_df()
g %>% dcast(Target+Label ~ Probability) %>% tbl_df()
g %>% dcast(Target ~ Probability) %>% tbl_df()
g %>% dcast(Target ~ Label) %>% tbl_df()
help(dcast)
g %>% dcast(Target ~ Label ~ Probability) %>% tbl_df()
g %>% dcast(Target + Rank ~ Label + Probability) %>% tbl_df()
g %>% dcast(Target ~ Label + Probability) %>% tbl_df()
g %>% dcast(Target ~ Label + Rank) %>% tbl_df()
g %>% dcast(Target, value.var=Probability) %>% tbl_df()
g %>% dcast(Target, value.var="Probability") %>% tbl_df()
g %>% dcast(Target ~ Label, value.var="Probability") %>% tbl_df()
g %>% dcast(Rank+Target ~ Label, value.var="Probability") %>% tbl_df()
g %>% dcast(Rank+Target+Probability ~ Label, value.var="Probability") %>% tbl_df()
g %>% dcast(Rank+Target ~ Label, value.var="Probability") %>% tbl_df()
g %>% dcast(Rank+Target ~ Label, value.var="Probability", margins=T) %>% tbl_df()
g %>% dcast(Rank+Target ... ~ Label, value.var="Probability", margins=T) %>% tbl_df()
g %>% dcast(Rank+Target ~ Label ~ ..., value.var="Probability", margins=T) %>% tbl_df()
g %>% dcast(Rank+Target ~ Label+Probability ~ ..., value.var="Probability", margins=T) %>% tbl_df()
g %>% dcast(Rank+Target ~ Label+Probability ~ ...) %>% tbl_df()
g %>% dcast(Rank+Target ~ Label+Probability) %>% tbl_df()
g %>% dcast(Rank+Target+Label ~ Probability) %>% tbl_df()
g %>% dcast(Rank+Target+Label ~ Label) %>% tbl_df()
g %>% dcast(Rank+Target ~ Label) %>% tbl_df()
g %>% dcast(Target+Rank ~ Label) %>% tbl_df()
o %>% dcast(Target+Rank ~ Label) %>% tbl_df()
o %>% dcast(Target ~ Label) %>% tbl_df()
o %>% dcast(Rank+Target ~ Label) %>% tbl_df()
o %>% group_by(Target, Label) %>% dcast(Rank+Target ~ Label) %>% tbl_df()
o %>% group_by(Target, Label) %>% dcast(Rank+Target ~ Label)
o %>% group_by(Target, Label) %>% dcast(Rank+Target ~ Label) %>% tbl_df()
o %>% group_by(Target, Label) %>% spread(Label, Probability) %>% tbl_df()
o %>% group_by(Target, Label) %>% select(-Assoc) %>% spread(Label, Probability) %>% tbl_df()
o %>% group_by(Target, Label, Rank) %>% select(-Assoc) %>% spread(Label, Probability) %>% tbl_df()
o %>% group_by(Target, Rank) %>% select(-Assoc) %>% spread(Label, Probability) %>% tbl_df()
o %>% group_by(Rank) %>% select(-Assoc) %>% spread(Label, Probability) %>% tbl_df()
o %>% group_by(Rank, Label) %>% select(-Assoc) %>% spread(Label, Probability) %>% tbl_df()
o %>% group_by(Rank, Label, Target) %>% select(-Assoc) %>% spread(Label, Probability) %>% tbl_df()
o %>% group_by(Target, Rank) %>% select(-Assoc) %>% spread(Label, Probability) %>% tbl_df()
o %>% group_by(Target, Rank) %>% select(-Assoc) %>% dcast(Target+Rank ~ Label) %>% tbl_df()
o %>% group_by(Target, Rank) %>% select(-Assoc)
o$rows = 1:nrow(o)
o %>% group_by(Target, Rank) %>% select(-Assoc)
o %>% group_by(Target, Rank) %>% select(-Assoc) %>% spread(Target, Personality)
o %>% group_by(Target, Rank) %>% select(-Assoc) %>% spread(Target, Probability)
o %>% group_by(Target, Rank) %>% select(-Assoc) %>% spread(Label, Probability)
o %>% group_by(Target, Rank) %>% select(-Assoc) %>% dcast(Target + Rank ~ Label)
o %>% group_by(Target, Rank) %>% select(-Assoc) %>% dcast(Target + Rank ~ Label, value.var="Probability")
o %>% group_by(Label) %>% select(-Assoc) %>% dcast(Target + Rank ~ Label, value.var="Probability")
o %>% ungroup() %>% select(-Assoc) %>% dcast(Target + Rank ~ Label, value.var="Probability")
o %>% ungroup() %>% select(-Assoc) %>% dcast(Target + Rank ~ Label, value.var="Probability") %>% head()
o %>% ungroup() %>% select(-Assoc) %>% group(Target, Rank) %>% dcast(Target + Rank ~ Label, value.var="Probability") %>% head()
o %>% ungroup() %>% select(-Assoc) %>% group(Target, Rank) %>% dcast(Target + Rank ~ Label, value.var="Probability") %>% head()
o %>% ungroup() %>% select(-Assoc) %>% dcast(Target + Rank ~ Label, value.var="Probability") %>% head()
o %>% select(-Assoc) %>% dcast(Target + Rank ~ Label, value.var="Probability") %>% head()
o %>% dcast(Target + Rank ~ Label, value.var="Probability") %>% head()
o
o %>% dcast(Target + Rank ~ Label, value.var="Probability") %>% head()
o %>% dcast(Target + Rank ~ Label) %>% head()
o %>% spread(Target, Label) %>% head()
o %>% spread(Target, Probability) %>% head()
o %>% spread(Label, Probability) %>% head()
o %>% select(Target, Rank, Label, Probability %>% spread(Label, Probability) %>% head()
)
o %>% select(Target, Rank, Label, Probability) %>% spread(Label, Probability) %>% head()
o %>% select(Target, Rank, Label, Probability) %>% spread(Target, Probability) %>% head()
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label) %>% head()
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label, subset = .(variable=="Y.Measure") %>% head()
)
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label, subset = .(variable=="Y.Measure")) %>% head()
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label, subset = (variable=="Y.Measure")) %>% head()
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label, subset = (Label=="onl")) %>% head()
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label, subset = (Rank==1)) %>% head()
library(plyr)
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label, subset = .(variable=="Y.Measure")) %>% head()
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label, subset = .(Label=="Y.Measure")) %>% head()
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label, subset = .(Label=="umi")) %>% head()
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label)) %>% head()
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label) %>% head()
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label) %>% head()
o$rows
o %>% select(rows, Target, Rank, Label, Probability) %>% dcast(Target+Rank ~ Label) %>% head()
o %>% select(rows, Target, Rank, Label, Probability) %>% dcast(Target ~ Label, Target ~ Rank) %>% head()
library(dplyr)
o %>% select(rows, Target, Rank, Label, Probability) %>% dcast(Target ~ Label, Target ~ Rank) %>% head()
o %>% select(rows, Target, Rank, Label, Probability) %>% dcast(Target ~ Label, Target) %>% head()
o %>% select(rows, Target, Rank, Label, Probability) %>% dcast(Target) %>% head()
o %>% select(rows, Target, Rank, Label, Probability) %>% spread(Rank, Probability)
o %>% select(rows, Target, Rank, Label, Probability) %>% spread(Rank, Probability, drop=T)
o %>% select(rows, Target, Rank, Label, Probability) %>% spread(Rank, Probability, drop=F)
o %>% select(rows, Target, Rank, Label, Probability) %>% spread(Rank, Probability)
o %>% select(Target, Rank, Label, Probability) %>% spread(Rank, Probability)
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Label, Rank)
o %>% select(Target, Rank, Label, Probability) %>% dcast(Target+Label, Rank)
o %>% select(Target, Rank, Label, Probability)
o %>% select(Target, Rank, Label, Probability) %>% group_by(Label, Target)
o %>% select(Target, Rank, Label, Probability) %>% group_by(Label, Target) %>% arrange(Label, Target)
o <- frequencies %>%
ungroup() %>%
filter(Rank <= 6) %>%
select(Label, Target, Assoc, Rank, Probability) %>%
group_by(Label, Target) %>%
filter(row_number() <= 6) %>%
ungroup() %>%
arrange(Target, Rank, Label)
o
1800/3
600/3
o %>% select(Laebel, Target, Probability) %>% spread(Label, Probability)
o %>% select(Label, Target, Probability) %>% spread(Label, Probability)
o %>% select(Label, Target, Probability) %>% spread(Target, Probability)
o %>% select(Label, Target, Probability) %>% dcast(Target ~ Label)
